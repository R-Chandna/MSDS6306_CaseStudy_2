---
title: "JPaffordCS2"
author: "Jodi Pafford"
date: "August 3, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# EDA for Case Study 2

Install Packages/Load Libraries
```{r Packages, echo=TRUE}
library(readxl)
library(ggplot2)
```

## Load File

```{r File, echo=TRUE}
df <- read_excel(path = "Attrition_Data_Clean.xlsx", sheet = "HR-employee-attrition Data")
```

# Analysis of Other Possible Attrition Factors

### Field of Study

```{r Field, echo=TRUE}
#Field of Study
ggplot(df, aes(x = FieldOfStudy, fill = Attrition)) + geom_bar(position = "fill") + labs(title = "Field of Study", x = "Field of Study", y = "", color = "")+ scale_y_continuous(labels = scales::percent) + theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

#### All fields of study have approximatley the same Attrition rate. The highest attrition rate is LIfe Sciences, Medical, and Other.

---

### Highest Level of Education

```{r Level, echo=TRUE}
#Highest Level of Education
ggplot(df, aes(x = Education, fill = Attrition)) + geom_bar(position = "fill") + labs(title = "Highest Level of Education", x = "Education Level", y = "", color = "")+ scale_y_continuous(labels = scales::percent)
```

#### All levels of education have very similar attrition rates. Those that hold a Doctorate have a slightly better attrition rate. This is likely due to the committment required for completion of a Doctorate degree.

---

###Number of Trainings Last Year

```{r Training, echo=TRUE}
#Number of Trainings Last Year
ggplot(df, aes(x = TrainedLstYr, fill = Attrition)) + geom_bar(position = "fill") + labs(title = "Number of Trainings Last Year", x = "Number of Trainings", y = "", color = "")+ scale_y_continuous(labels = scales::percent)
```

#### Not surprisingly, employees that received no trainings in the last year have a lower attrition rate, followed by those who received 4.  The most trainings received in a year was 6, which had the highest attrition rate.  

---

### Total Working Years

```{r Working, echo=TRUE}
#Total Working Years
ggplot(df, aes(x = TotWorkExp, fill = Attrition)) + geom_bar(position = "fill") + labs(title = "Total Working Years", x = "Number of Years", y = "", color = "")+ scale_y_continuous(labels = scales::percent)
```

#### Attrition rate during the first 3 years of working is high.  The rate gradually tapers. There is some signficant differences at year 27, 29, 30, 35, 36, 37, and 38, where there is a 100% no attrition. This is likely caused by retirement.  The 100% attrition rate at year 40 could be attributed to the low number of respondants for this number of working years.

---

### Years at Current Company

```{r Current, echo=TRUE}
#Years at Current Company
ggplot(df, aes(x = YrsAtCompany, fill = Attrition)) + geom_bar(position = "fill") + labs(title = "Years at Current Company", x = "Number of Years", y = "", color = "")+ scale_y_continuous(labels = scales::percent)
```

#### Place Holder

---

### Years in Current Role

```{r JodiEDA, echo=TRUE}
#Years in Current Role
ggplot(df, aes(x = YrsInRole, fill = Attrition)) + geom_bar(position = "fill") + labs(title = "Years in Current Role", x = "Number of Years", y = "", color = "")+ scale_y_continuous(labels = scales::percent)

#Years Since Last Promotion
ggplot(df, aes(x = LastPromoted, fill = Attrition)) + geom_bar(position = "fill") + labs(title = "Years Since Last Promotion", x = "Number of Years", y = "", color = "")+ scale_y_continuous(labels = scales::percent)

# Years with Current Manager
ggplot(df, aes(x = YrsWithMgr, fill = Attrition)) + geom_bar(position = "fill") + labs(title = "Years with Current Manager", x = "Number of Years", y = "", color = "")+ scale_y_continuous(labels = scales::percent)